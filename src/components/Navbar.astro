---
import MenuResponsive from "./MenuResponsive.astro";
import Links from "./Links.astro";
import { Icon } from "astro-icon/components";
---

<div
  class="flex md:flex-col md:justify-center justify-between items-center px-4 text-xl border-b-2 border-fuchsia-700"
>
  <h1>
    <a class="flex items-center justify-center text-white text-4xl lg:text-5xl py-4" href="/">
      YULY VP
    </a>
  </h1>
  <nav class="flex flex-row relative md:gap-4">
    <button
      id="nav_button"
      class="text-4xl md:hidden"
      aria-label="Abre el menú de navegación"
    >
      <Icon name="menu" />
  </button>
    <ul class="hidden space-x-20 md:flex">
      <Links
        classes="hidden px-4 pb-4 transition-all duration-300 ease-in-out md:block hover:[text-shadow:_0_4px_8px_#E200FD]"
      />
    </ul>
    <MenuResponsive />
  </nav>
</div>

<script>
  import { isSideMenuOpen } from "../store/store.js";

  const handleOpenSideMenu = () => {
    isSideMenuOpen.set(true);
  };

  // Espera a que el DOM esté completamente cargado
  document.addEventListener("click", () => {
    const button = document.getElementById("nav_button");
    if (button) {
      button.addEventListener("click", handleOpenSideMenu);
    }
  });
</script>
